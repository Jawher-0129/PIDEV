{% extends 'back.html.twig' %}

{% block title %}
    <title>Liste des users</title>
{% endblock %}

{% block body %}
    <style>
    .action-link {
    color: blue; /* Couleur du texte */
    text-decoration: none; /* Supprime le soulignement des liens */
    margin-right: 10px; /* Espacement entre les liens */
}
.action-linkk{

   color: red; /* Couleur du texte */
    text-decoration: none; /* Supprime le soulignement des liens */
    margin-right: 10px; /* Espacement entre les liens */
}
}

.action-link:hover {
    color: red; /* Couleur du texte au survol */
}

        /* Style for the table */
        table {
          width: 100%;
          border-collapse: collapse;
        }

        /* Style for table headers */
        th {
          background-color: #f2f2f2;
          color: #333;
          padding: 8px;
          text-align: left;
        }

        /* Style for table rows */
        tr:nth-child(even) {
          background-color: #f2f2f2;
        }

        tr:hover {
          background-color: #ddd;
        }

        /* Style for table cells */
        td {
          padding: 8px;
        }

        /* Style for action links */
        a {
          color: #007bff;
          text-decoration: none;
          margin-right: 10px;
        }

        a:hover {
          text-decoration: underline;
        }
       ::placeholder {
        opacity: 1; /* Full opacity */
        color: red; /* Adjust the color to your preference */
    }
    </style>
    <!-- Recherche par nom -->
  
    <!-- Recherche par nom -->
   <!-- Formulaire de recherche -->
   
        <div class="sorting-buttons">
        <a href="{{ path('list_user', {'orderBy': 'asc'}) }}" class="btn btn-primary">Tri ascendant</a>
       <a href="{{ path('list_user', {'orderBy': 'desc'}) }}" class="btn btn-primary">Tri descendant</a>
           
        </div>
   {{ form_start(searchForm, {'attr': {'id': 'search-form', 'class': 'search-form'}}) }}

    {# Champ de recherche #}
    <div class="search-input">
        {{ form_row(searchForm.searchTerm, {'attr': {'class': 'form-control', 'placeholder': 'Rechercher...'}}) }}
    </div>

    {# Bouton de recherche #}
    <button type="submit" class="btn btn-primary search-btn">Rechercher</button>

    {# Bouton de réinitialisation #}
    <a href="{{ path('list_user') }}" class="btn btn-secondary reset-btn">Réinitialiser</a>

{{ form_end(searchForm) }}




    <!-- Champ de recherche -->

    <!-- Résultats de la recherche -->
    <div id="search-results">
        <table border="1" id="tableac">
            <tr>
                <th><a href="{{ path('list_user', {'orderBy': 'id'}) }}">ID</a></th>
                <th>NOM</th>
                <th>PRENOM</th>

                <th>Email</th>
                <th>Adresse</th>
                <th>Action</th>
            </tr>
            {% for user in users %}
                {% if user.roles is not defined or 'ROLE_ADMIN' not in user.roles %}
                    <tr>
                        <td>{{ user.id }}</td>
                        <td>{{ user.Nom }}</td>
                        <td>{{ user.PRENOM }}</td>
                        <td>{{ user.Email }}</td>
                        <td>{{ user.Adresse }}</td>
                        <td>
                            <a href="{{ path('deleteuser', {'id': user.id}) }}" class="action-linkk">Delete User</a>
                            <br>
                            <a href="{{ path('detail_user', {'id': user.id}) }}" class="action-link">Show Details</a>
                        </td>
                      
                    </tr>
                {% endif %}
            {% endfor %}
        </table>
    </div>

{% endblock %}